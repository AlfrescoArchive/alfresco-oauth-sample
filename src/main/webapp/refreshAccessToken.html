<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Alfresco OAuth Sample Demo</title>
<meta http-equiv="Pragma" content="no-cache">
<meta http-equiv="Expires" content="-1">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.8.1/jquery.min.js"></script>
<script src="config.js"></script>
</head>
<body>
<a href="/alfoauthsample/">
<img src="http://www.alfresco.com/sites/www/themes/alfrescodotcom/img/logo.svg" alt="Alfresco" width="241px">
</a>

<h1>OAuth Sample - Refresh the access token</h1>
<section id="accessToken">
URL: <span id="urlShown" ></span><br/>
<form id="tokenForm" action="" method="post" target="ipostresponse">
Paste your refresh token here: refresh_token: <input name="refresh_token" value="" size="60px"><br/>
client_id: <input name="client_id" value="" size="50px"><font size="-1"> * This must match the registered value in the developer portal</font><br/>
client_secret: <input name="client_secret" value="" size="50px"><font size="-1"> * This must match the registered value in the developer portal</font><br/>
grant_type: <input name="grant_type" value="refresh_token" readonly="readonly"><br/>
<input type="submit">
</form>

<br/>
</section>
<section id="authNotes">
The refresh token is valid for 7 days, however a new refresh token is issued when the access token is refreshed.
</section>
<section id="responseDetails" style="display: none;">
This is the response from the POST:<br/>
<iframe id="ipostresponse" name="ipostresponse" width="100%" height="150px" style="border: 0">Your browser must support iframes</iframe><br/>
</section>
<script>
      
      $(document).ready(function()   {
         
         $("input[name=client_id]").val(config.client_id);
         $("input[name=client_secret]").val(config.client_secret);
         $('#urlShown').html(config.tokenURL) ;
         $('#tokenForm').attr('action', config.tokenURL) ;
         
          //When the form is submittted
           $('#tokenForm').submit(function() {
             $('#authNotes').hide();
             $('#exchangeHeader').css("color","blue");
             $('#responseDetails').show();
           });
       });
</script>
<section style="margin-top: 100px;font-size: 12px;">Other links:<a href="/alfoauthsample/">Start again</a> <a href="withAccessToken.html">Use Access Token</a> <a href="refreshAccessToken.html">Refresh Access Token</a></section>
</body>
</html>